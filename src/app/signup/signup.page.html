<ion-header>
  <ion-toolbar>
    <ion-title>Signup</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
    <form name="form" (ngSubmit)="form.valid && signup()" #form="ngForm" [mustMatch]="['password', 'confirmpassword']" novalidate>
        <ion-item class="form-group">
          <ion-label for="firstname" position="floating">First Name</ion-label>
          <ion-input type="text" class="form-control" name="firstname" [(ngModel)]="model.firstname" #firstname="ngModel" [ngClass]="{ 'is-invalid': form.submitted && firstname.invalid }" required ></ion-input>
        </ion-item>
        <div *ngIf="form.submitted && firstname.invalid" class="invalid-feedback">
            <div style="color:red; padding-top: 0.4rem; padding-left: 1.0rem"  *ngIf="firstname.errors.required">First Name is required</div>
        </div>
        <ion-item class="form-group">
            <ion-label for="lastname" position="floating">Last Name</ion-label>
            <ion-input type="text" class="form-control" name="lastname" [(ngModel)]="model.lastname" #lastname="ngModel" [ngClass]="{ 'is-invalid': form.submitted && lastname.invalid }" required ></ion-input>
          </ion-item>
        <div *ngIf="form.submitted && lastname.invalid" class="invalid-feedback">
            <div style="color:red; padding-top: 0.4rem; padding-left: 1.0rem"  *ngIf="lastname.errors.required">Last Name is required</div>
        </div>
        <ion-item class="form-group">
          <ion-label position="floating" for="email">Email</ion-label>
          <ion-input type="Email" class="form-control" name="email" [(ngModel)]="model.email" #email="ngModel" [ngClass]="{ 'is-invalid': form.submitted && email.invalid }" required email ></ion-input>
        </ion-item>
        <div *ngIf="form.submitted && email.invalid" class="invalid-feedback">
            <div style="color:red; padding-top: 0.4rem; padding-left: 1.0rem"  *ngIf="email.errors.required">Email is required</div>
            <div style="color:red; padding-top: 0.4rem; padding-left: 1.0rem"  *ngIf="email.errors.email">Email must be a valid email address</div>
        </div>
        <ion-item class="form-group">
          <ion-label for="password" position="floating">Password</ion-label>
          <ion-input type="password" class="form-control" name="password" [(ngModel)]="model.password" #password="ngModel" [ngClass]="{ 'is-invalid': form.submitted && password.invalid }" required minlength="6" ></ion-input>
        </ion-item>
        <div *ngIf="form.submitted && password.invalid" class="invalid-feedback">
            <div style="color:red; padding-top: 0.4rem; padding-left: 1.0rem" *ngIf="password.errors.required">Password is required</div>
            <div style="color:red; padding-top: 0.4rem; padding-left: 1.0rem" *ngIf="password.errors.minlength">Password must be at least 6 characters</div>
        </div>
        <ion-item class="form-group">
          <ion-label position="floating" for="confirmpassword">Confirm Password</ion-label>
          <ion-input type="password" class="form-control" name="confirmpassword" [(ngModel)]="model.confirmpassword" #confirmpassword="ngModel" [ngClass]="{ 'is-invalid': form.submitted && confirmpassword.invalid }" required ></ion-input>
        </ion-item>
        <div *ngIf="form.submitted && confirmpassword.invalid" class="invalid-feedback">
            <div style="color:red; padding-top: 0.4rem; padding-left: 1.0rem" *ngIf="confirmpassword.errors.required">Confirm Password is required</div>
            <div style="color:red; padding-top: 0.4rem; padding-left: 1.0rem" *ngIf="confirmpassword.errors.mustMatch">Passwords must match</div>
        </div>
        <br>
        <ion-button type="submit">Signup</ion-button>&nbsp;&nbsp;
        <ion-button href="/login">Login</ion-button>
      </form>
      </ion-content>
      